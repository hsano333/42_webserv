http {


    server{
        listen 11111;
        server_names localhost;
        client_max_body_size 100M;
        location / {
            autoindex off;
            root ./test_server;
            error_page 404 403 200 /404.html;
            limit_except GET POST DELETE{
                deny all;
            }
        }
    }
    server{
        listen 11112;
        server_names localhost;
        client_max_body_size 100M;
        location / {
            autoindex on;
            root ./test_server;
            error_page 404 403 200 /404.html;
            limit_except GET POST DELETE{
                deny all;
            }
        }
    }
    server{
        listen 11113;
        server_names example.com;
        client_max_body_size 100M;
        location / {
            root ./test_server;
            error_page 404 403 200 /404.html;
            limit_except GET POST DELETE{
                deny all;
            }
        }
    }

    server{
        listen 11111;
        server_names localhost;
        client_max_body_size 100M;

        location /cgi {
            error_page 404 /abc/404.html;
            root /home/sano/work/42/webserv/42/library_test;
            autoindex off;
            auth_basic Basic;
            auth_basic_user_file ./library_test/db/auth_basic;
            limit_except GET POST DELETE{
                deny all;
                cgi {
                  .rb : /usr/bin/ruby;
                  .py : /usr/bin/python3;
                  .pl : /usr/bin/perl;
                  .cgi : /usr/bin/perl;
                }
            }
        }
        location / {
            error_page 404 /abc/404.html;
            root /home/sano/work/42/webserv/42/library_test;
            autoindex on;
            limit_except GET POST DELETE{
                deny all;
                cgi {
                  .rb : /usr/bin/ruby;
                  .py : /usr/bin/python3;
                  .pl : /usr/bin/perl;
                  .cgi : /usr/bin/perl;
                }
            }
        }
    }



    server{
        listen 11112;
        server_names 127.0.0.1;
        client_max_body_size 100M;

        location /cgi-bin /abc {
            error_page 404 403 200 /abc/404.html;
            root /var/www/html/webserv;
            autoindex off;
            limit_except GET POST DELETE{
                deny all;
                cgi {
                  .rb : /usr/bin/ruby;
                  .py : /usr/bin/python3;
                  .pl : /usr/bin/perl;
                  .cgi : /usr/bin/perl;
                }
            }
        }
        location /test/* {
            return 301 https://www.google.com/;
            root /var/www/html/webserv/test;
            auth_basic Basic;
            auth_basic_user_file ./library_test/db/auth_basic;
            limit_except GET POST {
                deny all;
            }
        }
        location /test2/ {
            root /var/www/html/webserv/;
            auth_basic Basic;
            auth_basic_user_file ./library_test/db/auth_basic;
            limit_except GET POST {
                deny all;
            }
        }
    }

    server {
        listen 11112;
        server_names 127.0.0.1;
        location /abc {
            root /var/www/html/webserv;
            limit_except GET POST{
                deny all;
                cgi {
                  .rb : /usr/bin/ruby;
                  .py : /usr/bin/python3;
                  .pl : /usr/bin/perl;
                  .cgi : /usr/bin/perl;
                }
            }
        }
        location /test2/ {
            root /var/www/html/webserv/test;
            return 301 https://www.google.com/;
            limit_except GET POST{
                deny all;
            }
        }
        location /test3/ {
            root /var/www/html/webserv/test2;
            return 301 https://www.google.com/;
            limit_except GET POST{
                deny all;
            }
        }
    }
    server {
        listen 11113;
        server_names 172.18.58.174;
        location /abc {
            root /var/www/html/webserv;
            auth_basic Basic;
            auth_basic_user_file ./library_test/db/auth_basic;
            limit_except GET POST{
                deny all;
            }
        }
        location /test/ {
            root /var/www/html/webserv/test;
            limit_except GET POST{
                deny all;
            }
        }
        location /test2/ {
            root /var/www/html/webserv/test2;
            limit_except GET POST{
                deny all;
            }
        }
    }
    server {
        listen 11114;
        server_names localhost;

        location /cgi-bin/ {
            root /var/www/html/webserv;
            limit_except GET POST{
                deny all;
            }
        }
        location / {
            root /var/www/html/webserv;
            limit_except GET POST{
                deny all;
            }
        }
        location .php$  .py$ {
            root /var/www/html/webserv;
            limit_except GET POST{
                deny all;
            }
        }
        location .py$ {
            root /var/www/html/webserv;
            limit_except GET POST{
                deny all;
            }
        }
        location OK {
            root /var/www/html/webserv;
            limit_except GET POST{
                deny all;
            }
        }
    }

    server {
        listen 11111  default_server;
        server_names localhost;

        location / {
            root /var/www/html/webserv;
            autoindex on;
            error_page 404 403 200 /404.html;
            limit_except GET POST{
                deny all;
            }
        }

        location /static {
            root /var/www/html/webserv;
            limit_except GET POST{
                deny all;
            }
        }
        location /static/test1   {
            root /var/www/html/webserv;
            limit_except GET POST{
                deny all;
            }
        }

        location \.php$  \.py$ {
            root /var/www/html/webserv;
            limit_except GET POST{
                deny all;
            }
        }
        location \.py$ {
            root /var/www/html/webserv;
            limit_except GET POST{
                deny all;
            }
        }
    }
}
